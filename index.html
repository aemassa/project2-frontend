<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Gather</title>
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap-theme.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" id="gatherTopLeft" href="#">Gather</a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#logInModal" id="signUpLinkTopRight" data-toggle="modal" data-target="#logInModal"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
          <!-- The My Events link only appears when a user is signed in -->
          <li><a href="#" id="myEventsLinkTopRight" class="hidden"><span class="glyphicon glyphicon-cutlery"></span> My Events</a></li>
          <li><a href="#logInModal" id="logInLinkTopRight" data-toggle="modal" data-traget="#logInModal"><span class="glyphicon glyphicon-log-in"></span> Log In</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Login-Register Modal -->
  <div class="modal fade" id="logInModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 id="model-label-header" class="modal-title" id="exampleModalLabel">Log In</h4>
        </div>

        <div class="modal-body">
          <div id="login-box">
            <form>
              <div class="form-group">
                <label for="exampleInputEmail2">Email address</label>
                <input class="form-control" id="exampleInputEmail2" placeholder="Enter email address" type="email">
              </div>
              <div class="form-group">
                <label for="exampleInputPassword2">Password</label>
                <input class="form-control" id="exampleInputPassword2" placeholder="Enter password" type="password">
              </div>
              <p class="text-right">Don't have an account? <a href="javascript: showRegisterForm();"> Sign up.</a></p>
            </form>
          </div>

          <div id="register-box" style="display:none">
            <form>
              <div class="form-group">
                <label for="exampleInputName1">Name</label>
                <input class="form-control" id="exampleInputName1" placeholder="Enter name" type="name">
              </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Email address</label>
                <input class="form-control" id="exampleInputEmail1" placeholder="Enter email address" type="email">
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input class="form-control" id="exampleInputPassword1" placeholder="Enter password" type="password">
              </div>
              <div class="form-group">
                <label for="exampleInputPasswordConf1">Password Confirmation</label>
                <input class="form-control" id="exampleInputPasswordConf1" placeholder="Enter password confirmation" type="password">
              </div>
            </form>
            <p class="text-right">Already have an account? <a href="javascript: showLoginForm();"> Log in.</a></p>
          </div>
        </div>

        <div class="">
          <p id="result-login-message"></p>
        </div>

        <div class="modal-footer">
          <div id="modal-login-footer">
            <a href="#" id="log-in-button" data-dismiss="modal" class="btn btn-primary">Log In</a>
          </div>
          <div id="modal-register-footer" style="display:none">
            <a href="#" id="sign-up-button" data-dismiss="modal" class="btn btn-primary">Sign Up</a>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Home Page Content-->
  <div id="homepage">

    <!-- Jumbotron -->
    <div id="jumbotron">
      <div id="get-started">
        <h1 id="logo">GATHER</h1>
        <button type="button" id="get-started-button" data-toggle="modal" data-target="#logInModal">Get Started</button>
      </div>
    </div>

    <!-- Intro Content -->

    <div class="container-fluid" id="intro">
      <h2>About Gather</h2>
      <p>Gather makes it easy to plan and attend dinner parties and potluck events. <br>Simplify your next gathering. Create a new event, RSVP to an event, and let your friends know what you're bringing to the table! </p>
      <br>
    </div>


    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">

      <!-- Three columns of text below the carousel -->
      <div class="row" id="icons">
        <div class="col-lg-4">
          <img class="img-circle" src="partyman.png" alt="Generic placeholder image" width="140" height="140">
          <h2>Track RSVPs</h2>
          <p>View event details, post your RSVP, and see who's coming to your event.</p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img class="img-circle" src="plate.png" alt="Generic placeholder image" width="140" height="140">
          <h2>View Contributions</h2>
          <p>View items that others are bringing and post your contribution.</p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img class="img-circle" src="party.png" alt="Generic placeholder image" width="140" height="140">
          <h2>Celebrate!</h2>
          <p>With the guest list and contributions settled, enjoy your event with friends and family!</p>
        </div><!-- /.col-lg-4 -->
      </div><!-- /.row -->
    </div>
  </div>
  <!-- End of homepage -->


  <!-- My Events page -->
  <div id="eventpage" class="hidden">
    <div class="container-fluid" id="eventpage-background-pic" class="img-responsive">
      <div class="container" id="eventpage-background-white">
        <div id="eventpage-header">
          <h1 id="eventpage-header-text">My Events</h1>
        </div>
        <!-- Create/List Events Buttons-->
        <div id="event-buttons">
          <button type="button" class="btn btn-primary btn-lg"  data-toggle="modal" data-target="#createEventModal" id="create-event-button">Create a New Event</button>
          <br>
          <br>
        </div>
        <div id="events-list"></div>
          <h2>Event</h2>
    <div>
      <input id="event-id" placeholder="id">
      <input id="event-description" placeholder="description">
      <input id="event-date" placeholder="date">
      <input id="event-time" placeholder="time">
      <input id="event-location" placeholder="location">

      <button id="event-update">Update</button>
      <button id="event-destroy">Destroy</button>
    </div>
  </div>
</div>
</div>

<script type="text/x-handlebars-template" id="events-list-template">
  {{#each events}}
  <div class="event" data-id={{id}}>
    <h3>{{description}}</h3>
    <p>Created by: {{created_by.name}} | Date: {{date}} | Time: {{time}} | Location: {{location}}</p>
    <br>
    <ul>
      {{#each rsvps}}
      <li class="rsvp" data-id={{id}}>
        {{#if confirmed }}
        {{profile_of_rsvp.name}} is bringing {{item}} <input type="checkbox" checked="true"/>
        {{else}}
        {{profile_of_rsvp.name}} is bringing {{item}} <input type="checkbox"/>
        {{/if}}
        {{#if belongs_to_current_user}}
        <button type="button" class="btn btn-warning btn-xs" data-id={{id}} data-toggle="modal" data-target="#updateRsvpModal">Edit RSVP</button>
        <button type="button" class="btn btn-danger btn-xs" data-id={{id}} data-toggle="modal" data-target="#deleteRsvpModal">Delete RSVP</button>
        {{/if}}
      </li>
      {{/each}}
    </ul>
    <button type="button" class="btn btn-success btn-sm" id="rsvp-button" data-id={{id}} data-toggle="modal" data-target="#createRsvpModal">RSVP</button>
  </div>
  {{/each}}
</script>

<!-- End of My Events page -->

<!-- Create Events Modal -->
<div class="modal fade" id="createEventModal" tabindex="-1" role="dialog" aria-labelledby="createEventModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="createEventModalLabel">Create a New Event</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="inputEventDescription">Event Description (e.g. Laura's Party)</label>
          <input class="form-control" id="inputEventDescription" placeholder="Enter description" type="description">
        </div>
        <div class="form-group">
          <label for="inputEventDate">Event Date</label>
          <input class="form-control" id="inputEventDate" placeholder="Enter date" type="text">
        </div>
        <div class="form-group">
          <label for="inputEventTime">Event Time</label>
          <input class="form-control" id="inputEventTime" placeholder="Enter time" type="text">
        </div>
        <div class="form-group">
          <label for="inputEventLocation">Event Location (e.g. Laura's Apartment)</label>
          <input class="form-control" id="inputEventLocation" placeholder="Enter location" type="description">
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" id="create-event-button" class="btn btn-primary" data-dismiss="modal">Create Event</button>
      </div>
    </div>
  </div>
</div>

<!-- Create RSVP Modal -->
<div class="modal fade" id="createRsvpModal" tabindex="-1" role="dialog" aria-labelledby="createRsvpModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="createRsvpModalLabel">My RSVP</h4>
      </div>
      <div class="modal-body">
        <label class="radio-inline">
          <input type="radio" name="optradio" id="confirmed-true" value="true">I'm coming!</label>
          <label class="radio-inline">
            <input type="radio" name="optradio" id="confirmed-false" value="false">I can't make it.</label>
            <br>
            <br>
            <div class="form-group">
              <label for="inputRsvpItem">I'm bringing...</label>
              <input class="form-control" id="inputRsvpItem" placeholder="Enter the food, drink, or other item you'll bring" type="text">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" id="create-rsvp-button" class="btn btn-primary" data-dismiss="modal">Submit</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Update RSVP Modal -->
    <div class="modal fade" id="updateRsvpModal" tabindex="-1" role="dialog" aria-labelledby="updateRsvpModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="updateRsvpModalLabel">Edit RSVP</h4>
          </div>
          <div class="modal-body">
            <label class="radio-inline">
              <input type="radio" name="optradio" id="confirmed-true" value="true">I'm coming!</label>
              <label class="radio-inline">
                <input type="radio" name="optradio" id="confirmed-false" value="false">I can't make it.</label>
                <br>
                <br>
                <div class="form-group">
                  <label for="updateRsvpItem">I'm bringing...</label>
                  <input class="form-control" id="updateRsvpItem" placeholder="Enter the food, drink, or other item you'll bring" type="text">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" id="update-rsvp-button" class="btn btn-primary" data-dismiss="modal">Submit</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Delete RSVP Modal -->
        <div class="modal fade" id="deleteRsvpModal" tabindex="-1" role="dialog" aria-labelledby="deleteRsvpModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="deleteRsvpModalLabel">Are you sure?</h4>
              </div>
              <div class="modal-body">
                <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
                <button type="button" id="delete-rsvp-button" class="btn btn-danger" data-dismiss="modal">Yes, delete my RSVP</button>
              </div>
            </div>
          </div>
        </div>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        <script src="bower_components/simpleStorage/simpleStorage.js"></script>
        <script src="bower_components/handlebars/handlebars.js"></script>
        <script src="main.js"></script>
      </body>
      </html>
